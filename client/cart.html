<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/cart.css" />
    <link rel="shortcut icon" href="./assets/favicon.ico" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:wght@200;400&display=swap"
      rel="stylesheet"
    />
    <title>Cart</title>
  </head>
  <body>
    <header>
      <nav
        class="navbar navbar-expand-md navbar-light fixed-top bg-white"
      >
        <div class="container-fluid">
          <a class="navbar-brand" href="/"
            ><img
              src="./assets/logo3.png"
              alt="logo"
              width="150px"
              height="60px"
              class="d-inline-block align-text-top"
              href="/"
          /></a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarCollapse"
            aria-controls="navbarCollapse"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-md-0">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="/">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/tours">Featured Tours</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/faq">FAQs</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/contact" tabindex="-1"
                  >Contact</a
                >
              </li>
            </ul>
            <a class="nav-link" href="/cart"><img src="assets/cart.png" height="22px" width="22px"/></a>
          </div>
        </div>
      </nav>
    </header>
    </body>
    <main>
        <div class="main-container">
          <h1>Your Cart</h1>
          <div class="table-container">
          <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">Tour Name</th>
                <th scope="col">Quantity</th>
                <th scope="col">Subtotal</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                ${tours.map(tour =>`
                <th scope="row">${tour.tourName}</th>
                <td>${tour.quantity}</td>
                <td class="tourPrice">$${tour.price}</td>
              </tr>`).join("")}
              <tr><th scope="row"></th>
                <td><strong>Total</strong></td>
              <td id="cartTotal"></td></tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="buttondiv">
      <button id="checkoutbtn"
                  class="btn btn-primary"
                >
                  Checkout
                </button>
            </div>
            <div class="message"><p class="messagep"></p></div>
    </main>
  </body>
  <script>
    src =
      "https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js";
  </script>
  <script>
    const checkoutButton = document.querySelector("#checkoutbtn")
    const messageDiv = document.querySelector(".message")
    const messageParagraph = document.querySelector(".messagep")
    const tripPrices = []
    const checkoutMessage = () => {
      messageParagraph.innerHTML = "Ability to checkout online is coming soon!"
    }

const getPrices = async () => {
const data = await fetch("localhost:3000/cart-total")
const json = data.json
console.log(json)
}
    
    checkoutButton.addEventListener("click", (e) => {
      getPrices()
      // checkoutMessage()
    })
  </script>
</html>
